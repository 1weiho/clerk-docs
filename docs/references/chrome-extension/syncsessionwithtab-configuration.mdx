---
title: syncSessionWithTab Configuration
description: Learn how to configure your Chrome Extension to sync user authentication with your web application
---

# `syncSessionWithTab` Configuration

The `syncSessionWithTab` feature will enable your Chrome Extension to sync the user's session with your web application. If you have enabled `syncSessionWithTab` then as soon as a user visits your web application while authenticated with it, the user will then be authenticated in the Chrome Extension as well.

## Add `syncSessionWithTab` prop to `<ClerkProvider />`

To enable `syncSessionWithTab` you would it as a prop to your `<ClerkProvider />` component in your Chrome Extension.

```tsx {5}
 <ClerkProvider
      routerPush={(to) => navigate(to)}
      routerReplace={(to) => navigate(to, { replace: true })}
      publishableKey={PUBLISHABLE_KEY}
      syncSessionWithTab
>
```

## Configure `host_permissions`

Open your manifest.json file and add or edit the `host_permissions` section. This will specify which hosts, or websites, will have permission to sync auth state with your application. For development you would add `http://localhost`. For production you would add your domain preceded with `https://`. For example `https://clerk.com`. You would only add the root domain, and not subdomains. The `host_permissions` takes an array, allowing you to add more than one host.

```json filename="/manifest.json" {5-7}
{
  "manifest_version": 3,
  "name": "Clerk Chrome Extension Quickstart",
  // the rest of your manifest
  "host_permissions": [
    "http://localhost/"
  ]
}
```

## Configure `permissions`

Add a `permissions` section, or edit it if already present. `permissions` will accept and array. Add `"cookies"` and `"storage"` to the array.

```json filename="/manifest.json" {5-8}
{
  "manifest_version": 3,
  "name": "Clerk Chrome Extension Quickstart",
  // the rest of your manifest
  "permissions": [
    "cookies",
    "storage"
  ],
}
```

## Add the Extension's ID to your instance's `allow_origins`

For web applications, Clerk requires you to set a domain in your Clerk Dashboard. For Chrome Extensions the ID is used instead of a domain. You add this to your settings via the Backend API, and not via the Dashboard.

<Callout type="info">
Completing the steps from the [Configure a Consistent Key](/docs/references/chrome-extension/configure-consistent-key) guide will prevent you from having to this repeatedly.

</Callout>

In a terminal, run the following command. Replace the `<SECRET KEY>` with your Clerk Secret Key, and the `<CHROME EXTENSION KEY>` with your extension's ID.

```bash
curl  -X PATCH https://api.clerk.com/v1/instance \
      -H "Authorization: Bearer <SECRET KEY>" \
      -H "Content-type: application/json" \
      -d '{"allowed_origins": ["chrome-extension://<CHROME EXTENSION KEY>"]}'
```
